This is a short tutorial to quickly update dependencies of a running installation. These steps make it easy to quickly
apply a specific update for for example Django.

Note that the process only supports the supported python version of internet.nl. This is defined in the makefile.

The whole process should take about 10 minutes.

## Stopping services 
Starting and stopping services is done by the root user.

```bash
sudo su -
```


### single scan installation
```bash
service internetnl-gunicorn stop
for i in $(ls -1 /etc/systemd/system/internetnl-single*.service); do systemctl stop `basename $i`; done
```

### batch installation
```bash
service internetnl-gunicorn stop
for i in $(ls -1 /etc/systemd/system/internetnl-batch*.service); do systemctl stop `basename $i`; done
```


## Performing the update
Note: performing the update is done by the internetnl user.

```bash
exit 
sudo su internetnl
cd /opt/internetnl/Internet.nl/

make backup-custom-dependencies
make remove-custom-dependencies
make pip-upgrade-package package=django
make pip-sync
# for dev environemnts: make pip-sync-dev
make restore-custom-dependencies
```


## Restarting services
Starting and stopping services is done by the root user.

```bash 
exit
sudo su -
```

### single scan installation
```bash
service internetnl-gunicorn start
for i in $(ls -1 /etc/systemd/system/internetnl-single*.service); do systemctl start `basename $i`; done
```

### batch installation
```bash
service internetnl-gunicorn start
for i in $(ls -1 /etc/systemd/system/internetnl-batch*.service); do systemctl start `basename $i`; done
```
